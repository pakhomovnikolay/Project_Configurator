<Window x:Class="Project_Сonfigurator.Views.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" mc:Ignorable="d"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:fa="http://schemas.fontawesome.com/icons/"
        xmlns:l="clr-namespace:Project_Сonfigurator"
        xmlns:pages="clr-namespace:Project_Сonfigurator.Views.UserControls"
        xmlns:pages_signal="clr-namespace:Project_Сonfigurator.Views.UserControls.Signals"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        WindowStyle="None"
        BorderBrush="Black"
        BorderThickness="1"
        Background="AliceBlue"

        DataContext="{Binding MainWindowViewModel, Source={StaticResource Locator}}"
        Title="{Binding Title}"
        Height="{Binding WindowHeight}"
        Width="{Binding WindowWidth}"
        ResizeMode="{Binding WindowResizeMode}"
        WindowState="{Binding WindowWindowState}"
        >
    <Grid>
        
        <!--Сетка-->
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="25"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="25"/>
        </Grid.RowDefinitions>

        <!--Верхняя панель-->
        <Grid Grid.Row="0" Background="White">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="35"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="48"/>
                <ColumnDefinition Width="48"/>
                <ColumnDefinition Width="48"/>
            </Grid.ColumnDefinitions>

            <fa:FontAwesome Grid.Column="0" Icon="Solid_Magic" VerticalAlignment="Center"/>

            <TextBlock Grid.Column="1" Text="{Binding Title}" VerticalAlignment="Center"
                           MouseMove="TextBlock_MouseMove">
                <TextBlock.InputBindings>
                    <MouseBinding Gesture="LeftDoubleClick" Command="{StaticResource CmdChangeStateWindow}"/>
                </TextBlock.InputBindings>
            </TextBlock>

            <Button Grid.Column="4"
                        Style="{StaticResource CloseButtonStyle}"
                        Command="{StaticResource CmdCloseWindow}"/>

            <Button Grid.Column="3"
                        Style="{Binding ButtonChangeStateWindowStyle}"
                        Command="{StaticResource CmdChangeStateWindow}"/>

            <Button Grid.Column="2"
                        Style="{StaticResource HideButtonStyle}"
                        Command="{StaticResource CmdHideWindow}"/>

        </Grid>

        <!--Меню-->
        <Menu Grid.Row="1">
            <MenuItem Header="Меню" Height="25" Margin="10,0,0,0">
                <MenuItem Header="Настройки" Command="{Binding CmdOpenSettingWindow}">
                    
                </MenuItem>
            </MenuItem>
        </Menu>
        
        <!--Данные-->
        <TabControl Grid.Row="2">

            <TabControl.Template>
                <ControlTemplate TargetType="{x:Type TabControl}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="auto"/>
                        </Grid.RowDefinitions>
                        <ScrollViewer HorizontalScrollBarVisibility="Visible" VerticalScrollBarVisibility="Disabled" Grid.Row="1" Margin="0,-5,0,0">
                            <TabPanel IsItemsHost="True" Margin="10,5,10,3" Grid.Column="1"/>

                        </ScrollViewer>
                        <ContentPresenter x:Name="PART_SelectedContentHost" Margin="4" ContentSource="SelectedContent" Grid.Row="0"/>
                    </Grid>
                </ControlTemplate>
            </TabControl.Template>

            <TabItem Header="{Binding LayotRackViewModel.Title}"
                     IsSelected="{Binding LayotRackViewModel.IsSelected}">
                <pages:LayotRackUserControl DataContext="{Binding LayotRackViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding TableSignalsViewModel.Title}"
                     IsSelected="{Binding TableSignalsViewModel.IsSelected}">
                <pages:TableSignalsUserControl DataContext="{Binding TableSignalsViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsDIViewModel.Title}"
                     IsSelected="{Binding SignalsDIViewModel.IsSelected}">
                <pages_signal:SignalsDIUserControl DataContext="{Binding SignalsDIViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsAIViewModel.Title}"
                     IsSelected="{Binding SignalsAIViewModel.IsSelected}">
                <pages_signal:SignalsAIUserControl DataContext="{Binding SignalsAIViewModel}"/>
            </TabItem>


        </TabControl>
        
    </Grid>
</Window>
