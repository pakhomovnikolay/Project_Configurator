<Window x:Class="Project_Сonfigurator.Views.Windows.MainWindow"
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" mc:Ignorable="d"
              xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
              xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
              xmlns:fa="http://schemas.fontawesome.com/icons/"
              xmlns:l="clr-namespace:Project_Сonfigurator"
              xmlns:pages="clr-namespace:Project_Сonfigurator.Views.UserControls"
              xmlns:pages_signal="clr-namespace:Project_Сonfigurator.Views.UserControls.Signals"
              xmlns:pages_param="clr-namespace:Project_Сonfigurator.Views.UserControls.Params"
              WindowStartupLocation="CenterScreen"
              AllowsTransparency="True"
              WindowStyle="None"
              BorderBrush="Black"
              BorderThickness="1"
              Background="AliceBlue"
              
              DataContext="{Binding MainWindowViewModel, Source={StaticResource Locator}}"
              Height="{Binding WindowHeight}"
              Width="{Binding WindowWidth}"
              ResizeMode="{Binding WindowResizeMode}"
              WindowState="{Binding WindowWindowState}"
              >
    
    <Grid>
        
        <!--Сетка-->
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="135"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="25"/>
        </Grid.RowDefinitions>

        <!--Верхняя панель-->
        <Grid Grid.Row="0" Background="White">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="35"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="48"/>
                <ColumnDefinition Width="48"/>
                <ColumnDefinition Width="48"/>
            </Grid.ColumnDefinitions>

            <fa:FontAwesome Grid.Column="0" Icon="Solid_Magic" VerticalAlignment="Center"/>

            <TextBlock Grid.Column="1" Text="{Binding Title}" VerticalAlignment="Center"
                           MouseMove="TextBlock_MouseMove">
                <TextBlock.InputBindings>
                    <MouseBinding Gesture="LeftDoubleClick" Command="{StaticResource CmdChangeStateWindow}"/>
                </TextBlock.InputBindings>
            </TextBlock>

            <Button Grid.Column="4"
                        Style="{StaticResource CloseButtonStyle}"
                        Command="{StaticResource CmdShutdownApplication}"/>

            <Button Grid.Column="3"
                        Style="{Binding ButtonChangeStateWindowStyle}"
                        Command="{StaticResource CmdChangeStateWindow}"/>

            <Button Grid.Column="2"
                        Style="{StaticResource HideButtonStyle}"
                        Command="{StaticResource CmdHideWindow}"/>

        </Grid>

        <!--Меню-->
        <Ribbon Grid.Row="1" SelectedIndex="0">
            <Ribbon.Title>
                <TextBlock TextAlignment="Center" VerticalAlignment="Center" Text="{Binding NameProject}"/>
            </Ribbon.Title>
            <Ribbon.ApplicationMenu>
                <RibbonApplicationMenu SmallImageSource="../../Resources/Icons/Folder.ico">
                    <RibbonApplicationMenuItem Header="Создать" ImageSource="../../Resources/Icons/NewFile.ico"
                                               Command="{Binding CmdCreateProject}"/>
                    <RibbonApplicationMenuItem Header="Открыть" ImageSource="../../Resources/Icons/OpenFile.ico"
                                               Command="{Binding CmdOpenProject}"/>
                    <RibbonApplicationMenuItem Header="Сохранить" ImageSource="../../Resources/Icons/SaveFile.ico"
                                               Command="{Binding CmdSaveData}"/>
                    <RibbonApplicationMenuItem Header="Сохранить как..."
                                               Command="{Binding CmdSaveAsData}"/>
                    <RibbonApplicationMenuItem Header="Открыть папку с проектом" ImageSource="../../Resources/Icons/OpenFolder.ico"
                                               Command="{Binding OpenProjectFolder}"/>

                    <RibbonApplicationMenuItem Header="Настройки" VerticalAlignment="Bottom" ImageSource="../../Resources/Icons/Settings.ico"
                                               Command="{Binding CmdOpenSettingWindow}"/>
                </RibbonApplicationMenu>
            </Ribbon.ApplicationMenu>
            
            <RibbonTab Header="Главная">
                <RibbonGroup Header="Шрифт">

                </RibbonGroup>
            </RibbonTab>

            <RibbonTab Header="Экспорт СУ">
                <RibbonGroup Header="Данные для ПЛК" >
                    <RibbonButton LargeImageSource="../../Resources/Icons/Export.ico" Label="Экспорт всего проекта" />
                    <RibbonGroup Height="100">
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Чтение данных с модулей" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Запись данных для модулей" />
                    </RibbonGroup>
                    <RibbonGroup Height="100">
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Сигналы AI" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Сигналы DI" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Сигналы DO" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Сигналы AO" />
                    </RibbonGroup>
                    <RibbonGroup Height="100">
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Диагностика" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Секции шин" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Группы сигналов" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Рамки УСО" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Рамки" />
                    </RibbonGroup>
                    <RibbonGroup Height="100">
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Карта готовностей агрегатов (Лист 1)" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Общестанционные защиты (Лист 2)" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Агрегатные защиты (Лист 3)" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Агрегатные предупреждения (Лист 3,5)" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Предельные параметры (Лист 4)" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Лист 5" />
                    </RibbonGroup>
                    <RibbonGroup Height="100">
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DI агрегатов" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DI задвижек" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DI вспомсистем" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="Параметры DO остальных" />
                    </RibbonGroup>
                    <RibbonGroup Height="100">
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DO агрегатов" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DO задвижек" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DO вспомсистем" />
                        <RibbonButton SmallImageSource="../../Resources/Icons/Export.ico" Label="DO остальные" />
                    </RibbonGroup>
                </RibbonGroup>
            </RibbonTab>

            <RibbonTab Header="Экспорт ВУ">
                <RibbonGroup Header="Данные SCADA">

                </RibbonGroup>
            </RibbonTab>
        </Ribbon>

        <!--Данные-->
        <TabControl Grid.Row="2">

            <TabControl.Template>
                <ControlTemplate TargetType="{x:Type TabControl}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="auto"/>
                        </Grid.RowDefinitions>
                        <ScrollViewer HorizontalScrollBarVisibility="Visible" VerticalScrollBarVisibility="Disabled" Grid.Row="1" Margin="0,-5,0,0">
                            <TabPanel IsItemsHost="True" Margin="10,5,10,3" Grid.Column="1"/>

                        </ScrollViewer>
                        <ContentPresenter x:Name="PART_SelectedContentHost" Margin="4" ContentSource="SelectedContent" Grid.Row="0"/>
                    </Grid>
                </ControlTemplate>
            </TabControl.Template>

            <TabItem Header="{Binding LayotRackViewModel.Title}"
                     IsSelected="{Binding LayotRackViewModel.IsSelected}">
                <pages:LayotRackUserControl DataContext="{Binding LayotRackViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding TableSignalsViewModel.Title}"
                     IsSelected="{Binding TableSignalsViewModel.IsSelected}">
                <pages:TableSignalsUserControl DataContext="{Binding TableSignalsViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding UserDIViewModel.Title}"
                     IsSelected="{Binding UserDIViewModel.IsSelected}">
                <pages_signal:UserDIUserControl DataContext="{Binding UserDIViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding UserAIViewModel.Title}"
                     IsSelected="{Binding UserAIViewModel.IsSelected}">
                <pages_signal:UserAIUserControl DataContext="{Binding UserAIViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsDIViewModel.Title}"
                     IsSelected="{Binding SignalsDIViewModel.IsSelected}">
                <pages_signal:SignalsDIUserControl DataContext="{Binding SignalsDIViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsAIViewModel.Title}"
                     IsSelected="{Binding SignalsAIViewModel.IsSelected}">
                <pages_signal:SignalsAIUserControl DataContext="{Binding SignalsAIViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsDOViewModel.Title}"
                     IsSelected="{Binding SignalsDOViewModel.IsSelected}">
                <pages_signal:SignalsDOUserControl DataContext="{Binding SignalsDOViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsAOViewModel.Title}"
                     IsSelected="{Binding SignalsAOViewModel.IsSelected}">
                <pages_signal:SignalsAOUserControl DataContext="{Binding SignalsAOViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding UserRegUserModel.Title}"
                     IsSelected="{Binding UserRegUserModel.IsSelected}">
                <pages_param:UserRegUserControl DataContext="{Binding UserRegUserModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalsGroupViewModel.Title}"
                     IsSelected="{Binding SignalsGroupViewModel.IsSelected}">
                <pages_param:SignalsGroupUserControl DataContext="{Binding SignalsGroupViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding GroupsSignalViewModel.Title}"
                     IsSelected="{Binding GroupsSignalViewModel.IsSelected}">
                <pages_param:GroupsSignalUserControl DataContext="{Binding GroupsSignalViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding UZDViewModel.Title}"
                     IsSelected="{Binding UZDViewModel.IsSelected}">
                <pages_param:UZDUserControl DataContext="{Binding UZDViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding UVSViewModel.Title}"
                     IsSelected="{Binding UVSViewModel.IsSelected}">
                <pages_param:UVSUserControl DataContext="{Binding UVSViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding UMPNAViewModel.Title}"
                     IsSelected="{Binding UMPNAViewModel.IsSelected}">
                <pages_param:UMPNAUserControl DataContext="{Binding UMPNAViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding KTPRViewModel.Title}"
                     IsSelected="{Binding KTPRViewModel.IsSelected}">
                <pages_param:KTPRUserControl DataContext="{Binding KTPRViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding KTPRSViewModel.Title}"
                     IsSelected="{Binding KTPRSViewModel.IsSelected}">
                <pages_param:KTPRSUserControl DataContext="{Binding KTPRSViewModel}"/>
            </TabItem>

            <TabItem Header="{Binding SignalingViewModel.Title}"
                     IsSelected="{Binding SignalingViewModel.IsSelected}">
                <pages_param:SignalingUserControl DataContext="{Binding SignalingViewModel}"/>
            </TabItem>

        </TabControl>
        
    </Grid>
</Window>
